(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"29EK":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gallery",function(){return n("dmCw")}])},"6BQ9":function(e,t,n){e.exports=n("VKpo")},"8/g6":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=a.default.memo(a.default.forwardRef(function(t,n){return a.default.createElement(i.default,(0,o.default)({ref:n},t),e)}));0;return n.muiName=i.default.muiName,n};var o=r(n("pVnL")),a=r(n("q1tI")),i=r(n("UJJ5"))},E8kk:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o=r(n("q1tI")),a=(0,r(n("8/g6")).default)(o.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.default=a},Fuct:function(e,t,n){var r=n("0T/a"),o=n("dwSY");r(r.G+r.F*(parseInt!=o),{parseInt:o})},QxkW:function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return i});var r="https://".concat("helixcs.tk"),o="https://api-simplebox.".concat("helixcs.tk"),a=("".concat(r,"/api/next/gallery?folderName=%s&offset=%s&currentPage=1&pageSize=%s&currentPage=%s"),"".concat(o,"/api/next/mdx/list?folderName=%s")),i="".concat(o,"/api/next/mdx?fileId=%s");"".concat(o,"/api/read/document/name/%s")},"R/WZ":function(e,t,n){"use strict";var r=n("wx14"),o=n("RD7I"),a=n("cNwE");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(o.a)(e,Object(r.a)({defaultTheme:a.a},t))}},TqRt:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},UJJ5:function(e,t,n){"use strict";n.r(t);var r=n("HR5l");n.d(t,"default",function(){return r.a})},VKpo:function(e,t,n){n("Fuct"),e.exports=n("p9MR").parseInt},Yzr4:function(e,t,n){var r=n("0T/a"),o=n("5foh"),a=n("14Ie"),i=n("cCpf"),s="["+i+"]",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),u=function(e,t,n){var o={},s=a(function(){return!!i[e]()||"\u200b\x85"!="\u200b\x85"[e]()}),c=o[e]=s?t(f):i[e];n&&(o[n]=c),r(r.P+r.F*s,"String",o)},f=u.trim=function(e,t){return e=String(o(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(l,"")),e};e.exports=u},cCpf:function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},dmCw:function(e,t,n){"use strict";n.r(t);var r=n("p0XB"),o=n.n(r);var a=n("d04V"),i=n.n(a),s=n("yLu3"),c=n.n(s);function l(e){return function(e){if(o()(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(c()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return i()(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u=n("6BQ9"),f=n.n(u),p=n("ln6h"),d=n.n(p),m=n("O40h"),h=n("0iUn"),g=n("MI3g"),v=n("a7VT"),w=n("AT/M"),b=n("sLSF"),x=n("Tit0"),y=n("hfKm"),j=n.n(y);function O(e,t,n){return t in e?j()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=n("q1tI"),P=n.n(S),L=n("wx14"),T=n("Ff2n"),E=(n("17x9"),n("iuhU")),N=(n("2W6z"),n("H2TA")),I=P.a.forwardRef(function(e,t){var n=e.cellHeight,r=void 0===n?180:n,o=e.children,a=e.classes,i=e.className,s=e.cols,c=void 0===s?2:s,l=e.component,u=void 0===l?"ul":l,f=e.spacing,p=void 0===f?4:f,d=e.style,m=Object(T.a)(e,["cellHeight","children","classes","className","cols","component","spacing","style"]);return P.a.createElement(u,Object(L.a)({className:Object(E.a)(a.root,i),ref:t,style:Object(L.a)({margin:-p/2},d)},m),P.a.Children.map(o,function(e){if(!P.a.isValidElement(e))return null;var t=e.props.cols||1,n=e.props.rows||1;return P.a.cloneElement(e,{style:Object(L.a)({width:"".concat(100/c*t,"%"),height:"auto"===r?"auto":r*n+p,padding:p/2},e.props.style)})}))}),k=Object(N.a)({root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}},{name:"MuiGridList"})(I),z=n("R/WZ");var R=n("KQm4");var M=n("OMPe"),W=function(e,t){var n,r,o,a;e&&e.complete&&(e.width/e.height>e.parentNode.offsetWidth/e.parentNode.offsetHeight?((n=e.classList).remove.apply(n,Object(R.a)(t.imgFullWidth.split(" "))),(r=e.classList).add.apply(r,Object(R.a)(t.imgFullHeight.split(" ")))):((o=e.classList).remove.apply(o,Object(R.a)(t.imgFullHeight.split(" "))),(a=e.classList).add.apply(a,Object(R.a)(t.imgFullWidth.split(" ")))))};var _=P.a.forwardRef(function(e,t){var n=e.children,r=e.classes,o=e.className,a=(e.cols,e.component),i=void 0===a?"li":a,s=(e.rows,Object(T.a)(e,["children","classes","className","cols","component","rows"])),c=P.a.useRef(null);return P.a.useEffect(function(){!function(e,t){e&&(e.complete?W(e,t):e.addEventListener("load",function(){W(e,t)}))}(c.current,r)}),P.a.useEffect(function(){var e=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];var i=this;clearTimeout(t),t=setTimeout(function(){e.apply(i,o)},n)}return r.clear=function(){clearTimeout(t)},r}(function(){W(c.current,r)});return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}},[r]),P.a.createElement(i,Object(L.a)({className:Object(E.a)(r.root,o),ref:t},s),P.a.createElement("div",{className:r.tile},P.a.Children.map(n,function(e){return P.a.isValidElement(e)?"img"===e.type||Object(M.a)(e,["Image"])?P.a.cloneElement(e,{ref:c}):e:null})))}),C=Object(N.a)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(_),G=P.a.forwardRef(function(e,t){var n=e.actionIcon,r=e.actionPosition,o=void 0===r?"right":r,a=e.classes,i=e.className,s=e.subtitle,c=e.title,l=e.titlePosition,u=void 0===l?"bottom":l,f=Object(T.a)(e,["actionIcon","actionPosition","classes","className","subtitle","title","titlePosition"]),p=n&&o,d=Object(E.a)(a.root,i,"top"===u?a.titlePositionTop:a.titlePositionBottom,s&&a.rootSubtitle),m=Object(E.a)(a.titleWrap,{left:a.titleWrapActionPosLeft,right:a.titleWrapActionPosRight}[p]);return P.a.createElement("div",Object(L.a)({className:d,ref:t},f),P.a.createElement("div",{className:m},P.a.createElement("div",{className:a.title},c),s?P.a.createElement("div",{className:a.subtitle},s):null),n?P.a.createElement("div",{className:Object(E.a)(a.actionIcon,{left:a.actionIconActionPosLeft}[p])},n):null)}),F=Object(N.a)(function(e){return{root:{position:"absolute",left:0,right:0,height:48,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",fontFamily:e.typography.fontFamily},titlePositionBottom:{bottom:0},titlePositionTop:{top:0},rootSubtitle:{height:68},titleWrap:{flexGrow:1,marginLeft:16,marginRight:16,color:e.palette.common.white,overflow:"hidden"},titleWrapActionPosLeft:{marginLeft:0},titleWrapActionPosRight:{marginRight:0},title:{fontSize:e.typography.pxToRem(16),lineHeight:"24px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},subtitle:{fontSize:e.typography.pxToRem(12),lineHeight:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},actionIcon:{},actionIconActionPosLeft:{order:-1}}},{name:"MuiGridListTileBar"})(G),A=n("PsDL"),H=n("E8kk"),q=n.n(H),V=n("b0oO"),B={ImageGridLst_GridList:{width:"100%",height:"100%",paddingTop:50},ImageGridLst_root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:"red"},AracleMainTitle:{textAlign:"center",fontFamily:"'Google Sans',sans-serif",letterSpacing:"0.004em",marginTop:"1em"}},J=n("zgjP"),K=n.n(J);n("QxkW"),n("mTMe");n.d(t,"default",function(){return Y});var X=P.a.createElement,Y=(Object(z.a)(function(e){return function(e){return e}({root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},ImageGridLst_GridList:{width:"100%",height:"100%",paddingTop:50},icon:{color:"rgba(255, 255, 255, 0.54)"}})}),function(e){function t(e){var n;return Object(h.a)(this,t),n=Object(g.a)(this,Object(v.a)(t).call(this,e)),O(Object(w.a)(n),"handleScroll",function(e){var t=window.screen.height,r=document.documentElement.scrollTop,o=t+r,a=n.state.previousSize;console.log("windowSize=".concat(t,",currentTop=").concat(r,",fullSize=").concat(o," == preSize=").concat(a)),o>=a&&n.state.hasMore&&(n.setState({previousSize:f()(a)+900,currentPage:f()(n.state.currentPage)+1}),n.loadMore())}),O(Object(w.a)(n),"loadMore",function(){var e=n.state.currentPage;console.log("==>"+e),K()("https://helixcs.tk/api/next/gallery?folderName=weiye&offset=9&pageSize=1000&currentPage="+e).then(function(e){return e.json()}).then(function(e){e.remain>0?n.setState({hasMore:!0}):n.setState({hasMore:!1}),n.setState(function(t){return{items:[].concat(l(t.items),l(e.data)),cursor:e.cursor,isLoading:!1}})},function(e){n.setState({isLoading:!1,error:e})})}),n.state={name:e.name,pageSize:e.pageSize,offset:e.offset,pathName:e.pathName,currentPage:e.currentPage,items:[],isLoading:!0,hasMoreItems:!1,previousSize:1068},console.log("constructor"),n}return Object(x.a)(t,e),Object(b.a)(t,null,[{key:"getInitialProps",value:function(){var e=Object(m.a)(d.a.mark(function e(t){var n,r,o,a,i,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pathname,r=t.query,o=r.name||"liangqunru_all_next",a=r.pageSize||100,i=r.offset||9,s=r.currentPage||1,console.log("getInitialProps"),e.abrupt("return",{name:o,pageSize:a,offset:i,pathName:n,currentPage:s});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}]),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.loadMore(),window.addEventListener("scroll",this.handleScroll),console.log("componentDidMount")}},{key:"render",value:function(){console.log("render");var e=B,t=this.state.items,n=this.state.pathName;X("div",{className:"loader"},"Loading ...");return X("div",{className:e.root},X(V.a,{headName:n}),X(k,{cellHeight:300,style:e.ImageGridLst_GridList,cols:4},t.map(function(e){return X(C,{key:e.key,cols:e.cols||1},X("img",{src:e.images.replace("?stream=true","").replace("helixcs.tk","helixcs.herokuapp.com"),alt:e.title}),X(F,{title:e.title,subtitle:X("span",null,"by: ",e.author),actionIcon:X(A.a,{"aria-label":"info about ".concat(e.title)},X(q.a,null))}))})))}}]),t}(P.a.Component))},dwSY:function(e,t,n){var r=n("2jw7").parseInt,o=n("Yzr4").trim,a=n("cCpf"),i=/^[-+]?0[xX]/;e.exports=8!==r(a+"08")||22!==r(a+"0x16")?function(e,t){var n=o(String(e),3);return r(n,t>>>0||(i.test(n)?16:10))}:r},"m/Gl":function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return t=t||{},new Promise(function(n,r){var o=new XMLHttpRequest,a=[],i=[],s={},c=function(){return{ok:2==(o.status/100|0),statusText:o.statusText,status:o.status,url:o.responseURL,text:function(){return Promise.resolve(o.responseText)},json:function(){return Promise.resolve(JSON.parse(o.responseText))},blob:function(){return Promise.resolve(new Blob([o.response]))},clone:c,headers:{keys:function(){return a},entries:function(){return i},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var l in o.open(t.method||"get",e,!0),o.onload=function(){o.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,n){a.push(t=t.toLowerCase()),i.push([t,n]),s[t]=s[t]?s[t]+","+n:n}),n(c())},o.onerror=r,o.withCredentials="include"==t.credentials,t.headers)o.setRequestHeader(l,t.headers[l]);o.send(t.body||null)})}},mTMe:function(e,t){e.exports={stringParse:function(e){var t=[].slice.call(arguments,1),n=0;return e.replace(/%s/g,function(){return t[n++]})}}},pVnL:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},zgjP:function(e,t,n){e.exports=window.fetch||(window.fetch=n("m/Gl").default||n("m/Gl"))}},[["29EK",1,0]]]);