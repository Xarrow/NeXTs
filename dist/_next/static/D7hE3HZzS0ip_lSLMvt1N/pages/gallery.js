(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"29EK":function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/gallery",function(){return n("dmCw")}])},"6BQ9":function(e,t,n){e.exports=n("VKpo")},"8/g6":function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=o.default.memo(o.default.forwardRef(function(t,n){return o.default.createElement(i.default,(0,a.default)({ref:n},t),e)}));0;return n.muiName=i.default.muiName,n};var a=r(n("pVnL")),o=r(n("q1tI")),i=r(n("UJJ5"))},E8kk:function(e,t,n){"use strict";var r=n("TqRt");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a=r(n("q1tI")),o=(0,r(n("8/g6")).default)(a.default.createElement("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");t.default=o},Fuct:function(e,t,n){var r=n("0T/a"),a=n("dwSY");r(r.G+r.F*(parseInt!=a),{parseInt:a})},QxkW:function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return i});var r="https://".concat("helixcs.tk"),a="https://api-simplebox.".concat("helixcs.tk"),o=("".concat(r,"/api/next/gallery?folderName=%s&offset=%s&currentPage=1&pageSize=%s&currentPage=%s"),"".concat(a,"/api/next/mdx/list?folderName=%s")),i="".concat(a,"/api/next/mdx?fileId=%s");"".concat(a,"/api/read/document/name/%s")},"R/WZ":function(e,t,n){"use strict";var r=n("wx14"),a=n("RD7I"),o=n("cNwE");t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(a.a)(e,Object(r.a)({defaultTheme:o.a},t))}},TqRt:function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},UJJ5:function(e,t,n){"use strict";n.r(t);var r=n("HR5l");n.d(t,"default",function(){return r.a})},VKpo:function(e,t,n){n("Fuct"),e.exports=n("p9MR").parseInt},Yzr4:function(e,t,n){var r=n("0T/a"),a=n("5foh"),o=n("14Ie"),i=n("cCpf"),s="["+i+"]",l=RegExp("^"+s+s+"*"),c=RegExp(s+s+"*$"),u=function(e,t,n){var a={},s=o(function(){return!!i[e]()||"\u200b\x85"!="\u200b\x85"[e]()}),l=a[e]=s?t(f):i[e];n&&(a[n]=l),r(r.P+r.F*s,"String",a)},f=u.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(l,"")),2&t&&(e=e.replace(c,"")),e};e.exports=u},cCpf:function(e,t){e.exports="\t\n\v\f\r \xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029\ufeff"},dmCw:function(e,t,n){"use strict";n.r(t);var r=n("p0XB"),a=n.n(r);var o=n("d04V"),i=n.n(o),s=n("yLu3"),l=n.n(s);function c(e){return function(e){if(a()(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(l()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return i()(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var u=n("6BQ9"),f=n.n(u),p=n("ln6h"),d=n.n(p),m=n("O40h"),h=n("0iUn"),g=n("MI3g"),v=n("a7VT"),w=n("AT/M"),b=n("sLSF"),x=n("Tit0"),y=n("hfKm"),j=n.n(y);function O(e,t,n){return t in e?j()(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=n("q1tI"),P=n.n(S),L=n("wx14"),T=n("Ff2n"),E=(n("17x9"),n("iuhU")),N=n("H2TA"),I=P.a.forwardRef(function(e,t){var n=e.cellHeight,r=void 0===n?180:n,a=e.children,o=e.classes,i=e.className,s=e.cols,l=void 0===s?2:s,c=e.component,u=void 0===c?"ul":c,f=e.spacing,p=void 0===f?4:f,d=e.style,m=Object(T.a)(e,["cellHeight","children","classes","className","cols","component","spacing","style"]);return P.a.createElement(u,Object(L.a)({className:Object(E.a)(o.root,i),ref:t,style:Object(L.a)({margin:-p/2},d)},m),P.a.Children.map(a,function(e){if(!P.a.isValidElement(e))return null;var t=e.props.cols||1,n=e.props.rows||1;return P.a.cloneElement(e,{style:Object(L.a)({width:"".concat(100/l*t,"%"),height:"auto"===r?"auto":r*n+p,padding:p/2},e.props.style)})}))}),k=Object(N.a)({root:{display:"flex",flexWrap:"wrap",overflowY:"auto",listStyle:"none",padding:0,WebkitOverflowScrolling:"touch"}},{name:"MuiGridList"})(I),R=n("R/WZ");var z=n("KQm4");var M=function(e,t){var n,r,a,o;e&&e.complete&&(e.width/e.height>e.parentNode.offsetWidth/e.parentNode.offsetHeight?((n=e.classList).remove.apply(n,Object(z.a)(t.imgFullWidth.split(" "))),(r=e.classList).add.apply(r,Object(z.a)(t.imgFullHeight.split(" ")))):((a=e.classList).remove.apply(a,Object(z.a)(t.imgFullHeight.split(" "))),(o=e.classList).add.apply(o,Object(z.a)(t.imgFullWidth.split(" ")))))};var W=P.a.forwardRef(function(e,t){var n=e.children,r=e.classes,a=e.className,o=(e.cols,e.component),i=void 0===o?"li":o,s=(e.rows,Object(T.a)(e,["children","classes","className","cols","component","rows"])),l=P.a.useRef(null);return P.a.useEffect(function(){!function(e,t){e&&(e.complete?M(e,t):e.addEventListener("load",function(){M(e,t)}))}(l.current,r)}),P.a.useEffect(function(){var e=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];var i=this;clearTimeout(t),t=setTimeout(function(){e.apply(i,a)},n)}return r.clear=function(){clearTimeout(t)},r}(function(){M(l.current,r)});return window.addEventListener("resize",e),function(){e.clear(),window.removeEventListener("resize",e)}},[r]),P.a.createElement(i,Object(L.a)({className:Object(E.a)(r.root,a),ref:t},s),P.a.createElement("div",{className:r.tile},P.a.Children.map(n,function(e){return P.a.isValidElement(e)?"img"===e.type||(t=e,n=["Image"],P.a.isValidElement(t)&&-1!==n.indexOf(t.type.muiName))?P.a.cloneElement(e,{ref:l}):e:null;var t,n})))}),_=Object(N.a)({root:{boxSizing:"border-box",flexShrink:0},tile:{position:"relative",display:"block",height:"100%",overflow:"hidden"},imgFullHeight:{height:"100%",transform:"translateX(-50%)",position:"relative",left:"50%"},imgFullWidth:{width:"100%",position:"relative",transform:"translateY(-50%)",top:"50%"}},{name:"MuiGridListTile"})(W),C=P.a.forwardRef(function(e,t){var n=e.actionIcon,r=e.actionPosition,a=void 0===r?"right":r,o=e.classes,i=e.className,s=e.subtitle,l=e.title,c=e.titlePosition,u=void 0===c?"bottom":c,f=Object(T.a)(e,["actionIcon","actionPosition","classes","className","subtitle","title","titlePosition"]),p=n&&a,d=Object(E.a)(o.root,i,"top"===u?o.titlePositionTop:o.titlePositionBottom,s&&o.rootSubtitle),m=Object(E.a)(o.titleWrap,{left:o.titleWrapActionPosLeft,right:o.titleWrapActionPosRight}[p]);return P.a.createElement("div",Object(L.a)({className:d,ref:t},f),P.a.createElement("div",{className:m},P.a.createElement("div",{className:o.title},l),s?P.a.createElement("div",{className:o.subtitle},s):null),n?P.a.createElement("div",{className:Object(E.a)(o.actionIcon,{left:o.actionIconActionPosLeft}[p])},n):null)}),G=Object(N.a)(function(e){return{root:{position:"absolute",left:0,right:0,height:48,background:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",fontFamily:e.typography.fontFamily},titlePositionBottom:{bottom:0},titlePositionTop:{top:0},rootSubtitle:{height:68},titleWrap:{flexGrow:1,marginLeft:16,marginRight:16,color:e.palette.common.white,overflow:"hidden"},titleWrapActionPosLeft:{marginLeft:0},titleWrapActionPosRight:{marginRight:0},title:{fontSize:e.typography.pxToRem(16),lineHeight:"24px",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},subtitle:{fontSize:e.typography.pxToRem(12),lineHeight:1,textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap"},actionIcon:{},actionIconActionPosLeft:{order:-1}}},{name:"MuiGridListTileBar"})(C),F=n("PsDL"),A=n("E8kk"),H=n.n(A),q=n("b0oO"),V={ImageGridLst_GridList:{width:"100%",height:"100%",paddingTop:50},ImageGridLst_root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:"red"},AracleMainTitle:{textAlign:"center",fontFamily:"'Google Sans',sans-serif",letterSpacing:"0.004em",marginTop:"1em"}},B=n("zgjP"),J=n.n(B);n("QxkW"),n("mTMe");n.d(t,"default",function(){return X});var K=P.a.createElement,X=(Object(R.a)(function(e){return function(e){return e}({root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},ImageGridLst_GridList:{width:"100%",height:"100%",paddingTop:50},icon:{color:"rgba(255, 255, 255, 0.54)"}})}),function(e){function t(e){var n;return Object(h.a)(this,t),n=Object(g.a)(this,Object(v.a)(t).call(this,e)),O(Object(w.a)(n),"handleScroll",function(e){var t=window.screen.height,r=document.documentElement.scrollTop,a=t+r,o=n.state.previousSize;console.log("windowSize=".concat(t,",currentTop=").concat(r,",fullSize=").concat(a," == preSize=").concat(o)),a>=o&&n.state.hasMore&&(n.setState({previousSize:f()(o)+900,currentPage:f()(n.state.currentPage)+1}),n.loadMore())}),O(Object(w.a)(n),"loadMore",function(){var e=n.state.currentPage;console.log("==>"+e),J()("https://helixcs.tk/api/next/gallery?folderName=weiye&offset=9&pageSize=1000&currentPage="+e).then(function(e){return e.json()}).then(function(e){e.remain>0?n.setState({hasMore:!0}):n.setState({hasMore:!1}),n.setState(function(t){return{items:[].concat(c(t.items),c(e.data)),cursor:e.cursor,isLoading:!1}})},function(e){n.setState({isLoading:!1,error:e})})}),n.state={name:e.name,pageSize:e.pageSize,offset:e.offset,pathName:e.pathName,currentPage:e.currentPage,items:[],isLoading:!0,hasMoreItems:!1,previousSize:1068},console.log("constructor"),n}return Object(x.a)(t,e),Object(b.a)(t,null,[{key:"getInitialProps",value:function(){var e=Object(m.a)(d.a.mark(function e(t){var n,r,a,o,i,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.pathname,r=t.query,a=r.name||"liangqunru_all_next",o=r.pageSize||100,i=r.offset||9,s=r.currentPage||1,console.log("getInitialProps"),e.abrupt("return",{name:a,pageSize:o,offset:i,pathName:n,currentPage:s});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()}]),Object(b.a)(t,[{key:"componentDidMount",value:function(){this.loadMore(),window.addEventListener("scroll",this.handleScroll),console.log("componentDidMount")}},{key:"render",value:function(){console.log("render");var e=V,t=this.state.items,n=this.state.pathName;K("div",{className:"loader"},"Loading ...");return K("div",{className:e.root},K(q.a,{headName:n}),K(k,{cellHeight:300,style:e.ImageGridLst_GridList,cols:4},t.map(function(e){return K(_,{key:e.key,cols:e.cols||1},K("img",{src:e.images.replace("?stream=true","").replace("helixcs.tk","helixcs.herokuapp.com"),alt:e.title}),K(G,{title:e.title,subtitle:K("span",null,"by: ",e.author),actionIcon:K(F.a,{"aria-label":"info about ".concat(e.title)},K(H.a,null))}))})))}}]),t}(P.a.Component))},dwSY:function(e,t,n){var r=n("2jw7").parseInt,a=n("Yzr4").trim,o=n("cCpf"),i=/^[-+]?0[xX]/;e.exports=8!==r(o+"08")||22!==r(o+"0x16")?function(e,t){var n=a(String(e),3);return r(n,t>>>0||(i.test(n)?16:10))}:r},"m/Gl":function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return t=t||{},new Promise(function(n,r){var a=new XMLHttpRequest,o=[],i=[],s={},l=function(){return{ok:2==(a.status/100|0),statusText:a.statusText,status:a.status,url:a.responseURL,text:function(){return Promise.resolve(a.responseText)},json:function(){return Promise.resolve(JSON.parse(a.responseText))},blob:function(){return Promise.resolve(new Blob([a.response]))},clone:l,headers:{keys:function(){return o},entries:function(){return i},get:function(e){return s[e.toLowerCase()]},has:function(e){return e.toLowerCase()in s}}}};for(var c in a.open(t.method||"get",e,!0),a.onload=function(){a.getAllResponseHeaders().replace(/^(.*?):[^\S\n]*([\s\S]*?)$/gm,function(e,t,n){o.push(t=t.toLowerCase()),i.push([t,n]),s[t]=s[t]?s[t]+","+n:n}),n(l())},a.onerror=r,a.withCredentials="include"==t.credentials,t.headers)a.setRequestHeader(c,t.headers[c]);a.send(t.body||null)})}},mTMe:function(e,t){e.exports={stringParse:function(e){var t=[].slice.call(arguments,1),n=0;return e.replace(/%s/g,function(){return t[n++]})}}},pVnL:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},zgjP:function(e,t,n){e.exports=window.fetch||(window.fetch=n("m/Gl").default||n("m/Gl"))}},[["29EK",1,0]]]);